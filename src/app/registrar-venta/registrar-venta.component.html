<header>
    <app-navbar></app-navbar>
</header>

<div>
    
<div class="d-flex justify-content-between m-5 mb-0 fadeIn">
    <h2 class="">Registrar Ventas</h2>
</div>

<div class="card shadow p-3 mb-5 bg-white rounded fadeIn ">
    <form [formGroup]="addVenta" (ngSubmit)="onSubmit($event)">
        <div asp-validation-sumary="ModelOnly">
            <div class="container" style="padding:30px;">
                <div class="form-group">
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label asp-for="venta.idventa">NÂ° Venta</label>
                                <input class="form-control" formControlName="idVenta" readonly/>
                                <span asp-validation-for="venta.Cantidad" class="text-danger"></span>    <!--Texto de aviso en caso de que el campo no cumpla los requerimentos-->
                            </div>

                        </div>
                    </div>                    
                    <div class="row">
                        <div class="col">
                            <label asp-for="venta.Fecha">Fecha</label>
                            <input type="date" class="form-control" formControlName="fecha" />
                            <span asp-validation-for="venta.Fecha" class="text-danger"></span>    <!--Texto de aviso en caso de que el campo no cumpla los requerimentos-->
                        </div>

                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label asp-for="venta.NombreCliente">Nombre cliente</label>
                                <input  class="form-control" formControlName="nombreCliente" />
                                <span asp-validation-for="venta.NombreCliente" class="text-danger"></span>
                            </div>
                            <!--Texto de aviso en caso de que el campo no cumpla los requerimentos-->
                        </div>
                        <div class="row">
                            <div class="col">
                                <label asp-for="venta.lbltotalVenta">Total Venta: {{totalVenta}} </label>
                            </div>
                             
                        </div>
                    </div>
                    
                    <div class="form-group mt-3">
                        <div class="row">
                            <div class="col-sm-4">
                                <input type="submit" name="registrar" value="Registrar Venta" class="btn btn-success form-control" />
                            </div>
                            <div class="col-sm-4">
                                <a type="button" href="/vent" class="btn btn-inv">Volver a la lista de ventas</a>  
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <form [formGroup]="addProdForm" (ngSubmit)="onSubmit($event)">
        <div asp-validation-sumary="ModelOnly">
            <div class="container" style="padding:30px;">
                <div class="form-group mt-3">
                    <div class="row">
                        <div class="col">
                            <label asp-for="venta.Producto">Producto</label>
                            <select id="nameProducto" class="form-select" formControlName="productoIdproducto">
                                <option *ngFor="let producto of listaProductos" value="{{producto.idproducto}}">{{producto.nombreProducto}}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group"> 
                    <div class="row">
                        <div class="col">
                            <label asp-for="venta.Cantidad">Cantidad</label>
                            <input id="cant" class="form-control" type="number" formControlName="cantidad" />
                            <span asp-validation-for="venta.Cantidad" class="text-danger"></span>    <!--Texto de aviso en caso de que el campo no cumpla los requerimentos-->
                        </div>
        
                    </div>
                </div>
        
                <div class="form-group mt-3">
                    <div class="row">
                        <div class="col-sm-4">
                            <input type="submit" name="add" value="Agregar Producto" class="btn btn-primary form-control" />
                        </div>
                    </div>
                </div>
            </div>
        </div>        
    </form>

    <table class="tabla table table-hover table-responsive" id="tablaProductos">
        <thead class="theadblue">
            <tr>
                <th>Id</th>
                <th>Nombre Producto</th>
                <th>Precio Unitario</th>
                <th>Cantidad</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of datosTabla"> 
                <td>{{item.productoIdproducto}}</td>
                <td>{{item.nameproducto}}</td>
                <td>{{item.precioUnd}}</td>
                <td>{{item.cantidad}}</td>
                <td>{{item.total}}</td>              
            </tr>
        </tbody>
        </table>
 
</div>

<script>

</script>
